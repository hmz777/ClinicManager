@using ClinicProject.Shared.DTOs.Appointments
@using ClinicProject.Shared.Models.Appointment
@using ClinicProject.Shared.Models.Patient

<MudDialog>
    <DialogContent>
        <MudForm Model="Model" @ref="Form">
            <DynamicSearchBox Label="Patient Search"
                              Variant="Variant.Outlined"
                              Class="mb-5"
                              @bind-SelectedPatient="SelectedPatient" />
            <MudSelect Class="mb-2"
                       Variant="Variant.Outlined"
                       Label="Appointment Type"
                       Immediate="true"
                       @bind-Value="Model.AppointmentType">
                @foreach (var item in Enum.GetValues<AppointmentType>())
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>
            <DateWithTime Variant="Variant.Outlined"
                          PickerVariant="PickerVariant.Dialog"
                          DateLabel="Date"
                          TimeLabel="Time"
                          @bind-Date="Model.DateValues[nameof(AppointmentDTO.Date)]"
                          DateFormat="dd/MM/yyyy"
                          TimeFormat="hh:mm tt" />
        </MudForm>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick="Submit">Ok</MudButton>
    </DialogActions>
</MudDialog>